{"version":3,"file":"Redirect.js","sources":["../../../../src/components/Redirect/Redirect.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport { CoreProvider } from '../../core/Context/CoreProvider';\nimport RedirectShopper from './components/RedirectShopper';\nimport RedirectButton from '../internal/RedirectButton';\nimport { TxVariants } from '../tx-variants';\nimport { RedirectConfiguration } from './types';\nimport collectBrowserInfo from '../../utils/browserInfo';\n\nclass RedirectElement extends UIElement<RedirectConfiguration> {\n    public static type = TxVariants.redirect;\n\n    public static defaultProps = {\n        type: RedirectElement.type\n    };\n\n    formatData() {\n        return {\n            paymentMethod: {\n                type: this.type\n            },\n            browserInfo: this.browserInfo\n        };\n    }\n\n    get isValid() {\n        return true;\n    }\n\n    get browserInfo() {\n        return collectBrowserInfo();\n    }\n\n    render() {\n        if (this.props.url && this.props.method) {\n            return <RedirectShopper url={this.props.url} {...this.props} onActionHandled={this.onActionHandled} />;\n        }\n\n        if (this.props.showPayButton) {\n            return (\n                <CoreProvider i18n={this.props.i18n} loadingContext={this.props.loadingContext} resources={this.resources}>\n                    <RedirectButton\n                        {...this.props}\n                        showPayButton={this.props.showPayButton}\n                        name={this.displayName}\n                        onSubmit={this.submit}\n                        payButton={this.payButton}\n                        ref={ref => {\n                            this.componentRef = ref;\n                        }}\n                    />\n                </CoreProvider>\n            );\n        }\n\n        return null;\n    }\n}\n\nexport default RedirectElement;\n"],"names":["RedirectElement","UIElement","formatData","paymentMethod","type","this","browserInfo","isValid","collectBrowserInfo","render","props","url","method","h","RedirectShopper","onActionHandled","showPayButton","CoreProvider","i18n","loadingContext","resources","RedirectButton","name","displayName","onSubmit","submit","payButton","ref","componentRef","_define_property","TxVariants","redirect","defaultProps"],"mappings":"ysCASA,MAAMA,UAAwBC,EAO1BC,UAAAA,GACI,MAAO,CACHC,cAAe,CACXC,KAAMC,KAAKD,MAEfE,YAAaD,KAAKC,YAE1B,CAEA,WAAIC,GACA,OAAO,CACX,CAEA,eAAID,GACA,OAAOE,GACX,CAEAC,MAAAA,GACI,OAAIJ,KAAKK,MAAMC,KAAON,KAAKK,MAAME,OACtBC,EAACC,EAAAA,EAAAA,EAAAA,CAAgBH,IAAKN,KAAKK,MAAMC,KAASN,KAAKK,OAAK,CAAEK,gBAAiBV,KAAKU,mBAGnFV,KAAKK,MAAMM,cAEPH,EAACI,EAAAA,CAAaC,KAAMb,KAAKK,MAAMQ,KAAMC,eAAgBd,KAAKK,MAAMS,eAAgBC,UAAWf,KAAKe,WAC5FP,EAACQ,EAAAA,EAAAA,EAAAA,GACOhB,KAAKK,OAAK,CACdM,cAAeX,KAAKK,MAAMM,cAC1BM,KAAMjB,KAAKkB,YACXC,SAAUnB,KAAKoB,OACfC,UAAWrB,KAAKqB,UAChBC,IAAKA,IACDtB,KAAKuB,aAAeD,CAAAA,MAOjC,IACX,EA9CAE,EADE7B,EACYI,OAAO0B,EAAWC,UAEhCF,EAHE7B,EAGYgC,eAAe,CACzB5B,KAAMJ,EAAgBI"}