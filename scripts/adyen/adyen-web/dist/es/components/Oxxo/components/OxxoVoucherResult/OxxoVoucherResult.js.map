{"version":3,"file":"OxxoVoucherResult.js","sources":["../../../../../../src/components/Oxxo/components/OxxoVoucherResult/OxxoVoucherResult.tsx"],"sourcesContent":["import { h } from 'preact';\nimport Voucher from '../../../../components/internal/Voucher';\nimport { VoucherDetail } from '../../../internal/Voucher/types';\n\nimport { useCoreContext } from '../../../../core/Context/CoreProvider';\nimport { OxxoVoucherResultProps } from '../../types';\nimport './OxxoVoucherResult.scss';\nimport useImage from '../../../../core/Context/useImage';\nimport { extractCommonPropsForVoucher } from '../../../internal/Voucher/utils';\n\nconst OxxoVoucherResult = (props: OxxoVoucherResultProps) => {\n    const { i18n, loadingContext } = useCoreContext();\n    const getImage = useImage();\n    const { alternativeReference, reference, expiresAt, merchantReference, downloadUrl } = props;\n\n    const barcodeUrl = `${loadingContext}barcode.shtml?data=${reference}&barcodeType=BT_Code128C&fileType=png`;\n    const voucherDetails: VoucherDetail[] = [\n        ...(expiresAt\n            ? [\n                  {\n                      label: i18n.get('voucher.expirationDate'),\n                      value: i18n.date(expiresAt)\n                  }\n              ]\n            : []),\n        ...(merchantReference\n            ? [\n                  {\n                      label: i18n.get('voucher.shopperReference'),\n                      value: merchantReference\n                  }\n              ]\n            : []),\n        ...(alternativeReference\n            ? [\n                  {\n                      label: i18n.get('voucher.alternativeReference'),\n                      value: alternativeReference\n                  }\n              ]\n            : [])\n    ];\n\n    return (\n        <Voucher\n            {...extractCommonPropsForVoucher({ props, i18n, introKey: 'voucher.introduction', getImage: getImage() })}\n            barcode={barcodeUrl}\n            copyBtn\n            downloadUrl={downloadUrl}\n            voucherDetails={voucherDetails}\n        />\n    );\n};\n\nexport default OxxoVoucherResult;\n"],"names":["OxxoVoucherResult","props","i18n","loadingContext","useCoreContext","getImage","useImage","alternativeReference","reference","expiresAt","merchantReference","downloadUrl","barcodeUrl","voucherDetails","label","get","value","date","h","Voucher","extractCommonPropsForVoucher","introKey","barcode","copyBtn"],"mappings":"+UAUA,MAAMA,EAAqBC,IACvB,MAAMC,KAAEA,EAAIC,eAAEA,GAAmBC,IAC3BC,EAAWC,KACXC,qBAAEA,EAAoBC,UAAEA,EAASC,UAAEA,EAASC,kBAAEA,EAAiBC,YAAEA,GAAgBV,EAEjFW,EAAa,GAAGT,uBAAoCK,yCACpDK,EAAkC,IAChCJ,EACE,CACI,CACIK,MAAOZ,EAAKa,IAAI,0BAChBC,MAAOd,EAAKe,KAAKR,KAGzB,MACFC,EACE,CACI,CACII,MAAOZ,EAAKa,IAAI,4BAChBC,MAAON,IAGf,MACFH,EACE,CACI,CACIO,MAAOZ,EAAKa,IAAI,gCAChBC,MAAOT,IAGf,IAGV,OACIW,EAACC,EAAAA,IACOC,EAA6B,CAAEnB,QAAOC,OAAMmB,SAAU,uBAAwBhB,SAAUA,MAC5FiB,QAASV,EACTW,SAAAA,EACAZ,YAAaA,EACbE,eAAgBA"}