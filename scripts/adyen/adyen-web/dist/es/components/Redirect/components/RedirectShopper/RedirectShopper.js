import{Component as t,createElement as e}from"../../../../external/preact/dist/preact.js";import o from"../../../../utils/detectInIframeInSameOrigin.js";function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class s extends t{componentDidMount(){new Promise(((t,e)=>{this.props.beforeRedirect(t,e,{url:this.props.url,method:this.props.method,...this.props.data?{data:this.props.data}:{}})})).then((()=>{this.props.onActionHandled?.({componentType:this.props.paymentMethodType,actionDescription:"performing-redirect"}),this.postForm?this.postForm.submit():this.props.redirectFromTopWhenInIframe&&o()?window.top.location.assign?.(this.props.url):window.location.assign(this.props.url)})).catch((()=>{}))}render({url:t,method:r,data:s={}}){return"POST"===r?e("form",{method:"post",action:t,style:{display:"none"},ref:t=>{this.postForm=t},...this.props.redirectFromTopWhenInIframe&&o()&&{target:"_top"}},Object.keys(s).map((t=>e("input",{type:"hidden",name:t,key:t,value:s[t]})))):null}constructor(...t){super(...t),r(this,"postForm",void 0)}}r(s,"defaultProps",{beforeRedirect:t=>t(),method:"GET"});export{s as default};
//# sourceMappingURL=RedirectShopper.js.map
